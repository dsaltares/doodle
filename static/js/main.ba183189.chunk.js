(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{1019:function(e,t){},1020:function(e,t){},1081:function(e,t){},1505:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"playerIds",(function(){return H})),n.d(a,"player",(function(){return M}));var r,o=n(0),c=n.n(o),i=n(33),l=n.n(i),u=n(31),s=n(1570),m=n(78),d=n(251),p=n(122),f=n(1568),h=n(1551),g=n(1571),E=n(1557),y=n(1556),b=n(1579),v=n(360),C=n(1548),k=Object(C.a)((function(e){return{paper:function(t){return{padding:e.spacing(3),maxWidth:t.width}}}})),w=k,x=function(e){var t=e.children,n=e.width,a=w({width:void 0===n?500:n});return c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(v.a,{variant:"outlined",className:a.paper},c.a.createElement(h.a,{container:!0,direction:"column",spacing:2},t)))},O=function(e){var t=e.symbol,n=e.label;return c.a.createElement("span",{role:"img","aria-label":n,"aria-hidden":n?"false":"true"},t)},j=Object(C.a)((function(e){return{buttonGroup:{flex:1},button:{flex:1}}})),T=j,S=Object(p.g)((function(e){var t=e.startGame,n=e.history,a=T(),r=Object(o.useState)("newGame"),i=Object(m.a)(r,2),l=i[0],u=i[1],s=Object(o.useState)(""),d=Object(m.a)(s,2),p=d[0],f=d[1],v=Object(o.useState)(""),C=Object(m.a)(v,2),k=C[0],w=C[1],j=p.length>0,S=k.length>0,G=j&&("newGame"===l||S),W="joinGame"===l?c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(g.a,{variant:"outlined",label:"Game code",onChange:function(e){return w(e.target.value)},fullWidth:!0})):null;return c.a.createElement(x,null,c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(h.a,{container:!0,direction:"row",justify:"center"},c.a.createElement(b.a,{value:l,onChange:function(e,t){return u(t)},exclusive:!0,"aria-label":"game mode",className:a.buttonGroup},c.a.createElement(y.a,{value:"newGame",className:a.button},c.a.createElement(O,{symbol:"\u270f\ufe0f"}),"New Game"),c.a.createElement(y.a,{value:"joinGame",className:a.button},c.a.createElement(O,{symbol:"\ud83d\udc65"}),c.a.createElement("span",null,"Join Game"))))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(g.a,{variant:"outlined",label:"Name",value:p,onChange:function(e){return f(e.target.value)},fullWidth:!0})),W,c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(E.a,{variant:"contained",color:"primary",disabled:!G,onClick:function(){return t({mode:l,name:p,code:k,goToGame:function(e){return n.push("/game/".concat(e))}})}},c.a.createElement(O,{symbol:"\ud83d\ude4c"}),c.a.createElement("span",null,"Go!"))))})),G=n(38),W=n.n(G),N=n(80),R=n(139),U=n(1574),P=n(620),I=n.n(P),D=n(621),A=n.n(D),L=Object(R.b)({name:"socket",initialState:{status:"disconnected"},reducers:{connectToSocketStarted:function(e){e.status="connecting"},connectToSocketSuccess:function(e){e.status="connected"},connectToSocketFailed:function(e){e.status="error"},disconnected:function(e){e.status="disconnected"}}}),B=L.actions,F=L.reducer,z=A()(),H=function(e){return e.game.gameState?Object.keys(e.game.gameState.players):[]},M=function(e,t){return e.game.gameState?e.game.gameState.players[t]:null},J={config:{},startingGame:!1,choosingConcept:void 0,submittedEntry:!1,acknowledgedWinner:!1},V=Object(R.b)({name:"game",initialState:J,reducers:{setPlayerName:function(e,t){e.config.name=t.payload},setCode:function(e,t){e.config.code=t.payload},setGamePlayer:function(e,t){e.player=t.payload.player},startGame:function(e){e.startingGame=!0},chooseConcept:function(e,t){e.choosingConcept=t.payload},submitEntry:function(e){e.submittedEntry=!0},chooseEntry:function(e,t){e.chosenEntry=t.payload},acknowledgeWinner:function(e){e.acknowledgedWinner=!0},updateGame:function(e,t){if(e.gameState&&e.gameState.lastUpdate>t.payload.gameState.lastUpdate)return e;e.gameState=t.payload.gameState,t.payload.updateBy===e.player&&(e.startingGame=!1,e.choosingConcept=void 0,e.submittedEntry=!1,e.chosenEntry=void 0,e.acknowledgedWinner=!1)}}}),_=V.actions,Y=V.reducer,$=function(e){var t=e.code,n=e.name,a=e.goToGame;return function(){var e=Object(N.a)(W.a.mark((function e(r){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(_.setPlayerName(n)),r(_.setCode(t)),a(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=Object(u.b)(null,(function(e){return{startGame:function(t){var n=t.mode,a=t.name,r=t.code,o=t.goToGame;e("newGame"===n?function(e){var t=e.name,n=e.goToGame;return function(){var e=Object(N.a)(W.a.mark((function e(a){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(U.a)(),a($({code:r,name:t,goToGame:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({name:a,goToGame:o}):$({name:a,code:r,goToGame:o}))}}}))(S),K=n(123),Q=function(e){var t=e.message,n=e.startVisible,a=e.startDisabled,r=e.onStart,o=n?c.a.createElement(E.a,{variant:"contained",color:"primary",disabled:a,onClick:r},c.a.createElement(O,{symbol:"\ud83d\ude80"}),c.a.createElement("span",null,"Start!")):null;return c.a.createElement(x,null,c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(K.a,null,t)),c.a.createElement(h.a,{item:!0,xs:12},o))},X=function(e,t,n){return 1===n?e:t},Z=function(e,t,n){return e>0?"Waiting for ".concat(e," more ").concat(X("player","players",e)):t.id===n?"Ready to start?":"Waiting for ".concat(t.name," to start the game")},ee=Object(u.b)((function(e){var t=e.game.gameState,n=e.game.player,a=Object.keys(t.players).length,r=Math.max(0,2-a),o=t.players[t.createdBy],c=o.id===n;return{message:Z(r,o,n),startVisible:c,startDisabled:r>0}}),(function(e){return{onStart:function(){return e(function(){var e=Object(N.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_.startGame()),e.next=3,z.promise;case 3:e.sent.emit("startGame",{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Q),te=n(1555),ne=n(1558),ae=n(1560),re=n(1559),oe=function(e){var t=e.concept,n=e.selected,a=void 0!==n&&n,r=e.disabled,o=void 0!==r&&r,i=e.onClick;return c.a.createElement(ne.a,{divider:!0,button:!0,onClick:i,selected:a,disabled:o},c.a.createElement(re.a,null,c.a.createElement(O,{symbol:"\ud83d\udca1"})),c.a.createElement(ae.a,{primary:t}))},ce=function(e){var t=e.concepts,n=e.selectedConcept,a=e.onChooseConcept,r=n?"Waiting for other players to choose":"Choose a concept";return c.a.createElement(x,null,c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(K.a,null,r)),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(te.a,null,t.map((function(e){return c.a.createElement(oe,{key:e,concept:e,selected:n===e,disabled:!!n,onClick:function(){return a(e)}})})))))},ie=Object(u.b)((function(e){var t,n=e.game.choosingConcept,a=null===(t=e.game.gameState)||void 0===t?void 0:t.round,r=a.phase,o=e.game.player,c=r.choices[o];return{selectedConcept:a.concepts[o]||n,concepts:c}}),(function(e){return{onChooseConcept:function(t){return e(function(e){return function(){var t=Object(N.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_.chooseConcept(e)),t.next=3,z.promise;case 3:t.sent.emit("chooseConcept",{concept:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(ce),le=n(622),ue=n(623),se=n(100),me=n(632),de=n(633),pe=n(626),fe=n.n(pe),he=n(627),ge=n.n(he),Ee=n(628),ye=n.n(Ee),be=n(1561),ve=n(1575),Ce=Object(C.a)((function(e){return{root:{borderRadius:4}}})),ke=function(e){var t=e.title,n=e.icon,a=e.disabled,r=void 0!==a&&a,o=e.onClick,i=Ce();return c.a.createElement(ve.a,{title:t,placement:"left"},c.a.createElement("span",null,c.a.createElement(be.a,{"aria-label":t,onClick:o,disabled:r,classes:{root:i.root}},n)))},we=n(1576),xe=n(257),Oe=n.n(xe),je=n(1553),Te=Object(C.a)((function(e){return{paper:{padding:e.spacing(3)}}})),Se=function(e){var t=e.title,n=e.icon,a=e.renderContent,r=Te(),i=Object(o.useState)(null),l=Object(m.a)(i,2),u=l[0],s=l[1],d=function(){return s(null)},p=Boolean(u),f=p?"".concat(t,"-popover"):void 0;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ke,{title:t,icon:n,onClick:function(e){s(e.currentTarget)}}),c.a.createElement(je.a,{id:f,classes:{paper:r.paper},open:p,anchorEl:u,onClose:d,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"}},a({close:d})))},Ge=Object(C.a)((function(){return{root:{flex:1,width:200,height:25,marginTop:18}}})),We=function(e){return"".concat(e," px")},Ne=function(e){var t=e.lineWidth,n=e.onLineWidthChange,a=Ge(),r=function(e,t){return n(Array.isArray(t)?t[0]:t)};return c.a.createElement(Se,{title:"Line width",icon:c.a.createElement(Oe.a,null),renderContent:function(){return c.a.createElement("div",{className:a.root},c.a.createElement(we.a,{value:t,getAriaValueText:We,valueLabelDisplay:"on",step:1,min:1,max:50,onChange:r}))}})},Re=n(625),Ue=function(e){var t=e.color,n=e.onColorChange;return c.a.createElement(Se,{title:"Color",icon:c.a.createElement(Oe.a,{style:{color:t}}),renderContent:function(e){var a=e.close;return c.a.createElement(Re.CirclePicker,{color:t,onChangeComplete:function(e){a(),function(e){n(e.hex)}(e)}})}})},Pe=n(358),Ie=n.n(Pe),De=n(359),Ae=n.n(De),Le=function(e){return"pencil"===e?c.a.createElement(Ie.a,null):c.a.createElement(Ae.a,null)},Be=function(e){var t=e.tool,n=e.onToolchange;return c.a.createElement(Se,{title:"Color",icon:Le(t),renderContent:function(e){var a=e.close;return c.a.createElement(b.a,{value:t,exclusive:!0,onChange:function(e,t){a(),n(t)},"aria-label":"text alignment"},c.a.createElement(y.a,{value:"pencil","aria-label":"pencil"},c.a.createElement(Ie.a,null)),c.a.createElement(y.a,{value:"eraser","aria-label":"eraser"},c.a.createElement(Ae.a,null)))}})},Fe=function(e){var t=e.lineWidth,n=void 0===t?5:t,a=e.onLineWidthChange,r=e.color,o=void 0===r?"#f44336":r,i=e.onColorChange,l=e.tool,u=void 0===l?"pencil":l,s=e.onToolChange,m=e.canUndo,d=void 0!==m&&m,p=e.onUndo,f=e.canRedo,g=void 0!==f&&f,E=e.onRedo,y=e.onEraseAll;return c.a.createElement(h.a,{container:!0,direction:"column",spacing:0,alignItems:"center"},c.a.createElement(Ne,{lineWidth:n,onLineWidthChange:a}),c.a.createElement(Ue,{color:o,onColorChange:i}),c.a.createElement(Be,{tool:u,onToolchange:s}),c.a.createElement(ke,{title:"Undo",icon:c.a.createElement(fe.a,null),onClick:p,disabled:!d}),c.a.createElement(ke,{title:"Redo",icon:c.a.createElement(ge.a,null),onClick:E,disabled:!g}),c.a.createElement(ke,{title:"Erase all",icon:c.a.createElement(ye.a,null),onClick:y}))},ze=n(1577),He=n(629),Me=Object(ze.a)(He.SketchField)({border:"1px solid",borderRadius:4}),Je=function(e){Object(de.a)(n,e);var t=Object(me.a)(n);function n(e){var a;return Object(le.a)(this,n),(a=t.call(this,e)).sketch=void 0,a.state={lineWidth:10,color:"#f44336",tool:"pencil",canUndo:!1,canRedo:!1},a.onLineWidthChange=a.onLineWidthChange.bind(Object(se.a)(a)),a.onColorChange=a.onColorChange.bind(Object(se.a)(a)),a.onToolChange=a.onToolChange.bind(Object(se.a)(a)),a.onUndo=a.onUndo.bind(Object(se.a)(a)),a.onRedo=a.onRedo.bind(Object(se.a)(a)),a.onEraseAll=a.onEraseAll.bind(Object(se.a)(a)),a.onSketchChange=a.onSketchChange.bind(Object(se.a)(a)),a}return Object(ue.a)(n,[{key:"onLineWidthChange",value:function(e){this.setState({lineWidth:e})}},{key:"onColorChange",value:function(e){this.setState({color:e})}},{key:"onToolChange",value:function(e){this.setState({tool:e})}},{key:"onUndo",value:function(){this.sketch&&this.sketch.undo()}},{key:"onRedo",value:function(){this.sketch&&this.sketch.redo()}},{key:"onEraseAll",value:function(){this.sketch&&this.sketch.clear()}},{key:"onSketchChange",value:function(){if(this.sketch){var e=this.state,t=e.canUndo,n=e.canRedo,a=this.sketch.canUndo(),r=this.sketch.canRedo();(t!==a||n!==r)&&this.setState({canUndo:a,canRedo:r})}}},{key:"export",value:function(){return this.sketch?this.sketch.toDataURL():""}},{key:"render",value:function(){var e=this,t=this.state,n=t.lineWidth,a=t.color,r=t.tool,o=t.canUndo,i=t.canRedo,l="pencil"===r?a:"#ffffff";return c.a.createElement(h.a,{container:!0,direction:"row"},c.a.createElement(h.a,{item:!0,xs:2},c.a.createElement(Fe,{lineWidth:n,onLineWidthChange:this.onLineWidthChange,color:a,onColorChange:this.onColorChange,tool:r,onToolChange:this.onToolChange,canUndo:o,onUndo:this.onUndo,canRedo:i,onRedo:this.onRedo,onEraseAll:this.onEraseAll})),c.a.createElement(h.a,{item:!0,xs:10},c.a.createElement(Me,{ref:function(t){return e.sketch=t},height:"480px",tool:r,lineColor:l,lineWidth:n,onChange:this.onSketchChange})))}}]),n}(c.a.Component),Ve=function(e){var t=e.message,n=e.submitted,a=e.onSubmit,r=Object(o.createRef)(),i=n?"Waiting for other players to finish their turn.":"";return c.a.createElement(x,{width:800},c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(K.a,null,t)),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(Je,{ref:r})),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},c.a.createElement(h.a,{item:!0},c.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){var e=r.current;if(e){var t=e.export();a(t)}},disabled:n},c.a.createElement(O,{symbol:"\ud83c\udfa8"}),c.a.createElement("span",null,"Done"))),c.a.createElement(h.a,{item:!0},c.a.createElement(K.a,null,i)))))},_e=Object(u.b)((function(e){var t=e.game.player,n=e.game.gameState,a=function(e,t){var n=t.round.phase;if(0===n.index){var a=t.round.concepts[e];return'Draw "'.concat(a,'"')}var r=t.round.order.indexOf(e),o=Object.keys(t.players).length,c=(r+n.index)%o,i=t.round.order[c],l=t.round.stacks[i].entries[n.index-1].data.concept,u=t.players[i].name;return"From ".concat(u,', draw "').concat(l,'"')}(t,n);return{submitted:e.game.submittedEntry||function(e,t){var n=t.round.phase,a=t.round.order.indexOf(e),r=Object.keys(t.players).length,o=(a+n.index)%r,c=t.round.order[o],i=t.round.stacks[c].entries[n.index];return i&&i.author===e}(t,n),message:a}}),(function(e){return{onSubmit:function(t){return e(function(e){return function(){var t=Object(N.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_.submitEntry()),t.next=3,z.promise;case 3:t.sent.emit("submitEntry",{entry:{type:"drawing",drawing:e}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ve),Ye=Object(C.a)((function(e){return{image:{width:400,borderRadius:4}}})),$e=function(e){var t=e.message,n=e.image,a=e.submitted,r=e.onSubmit,i=Ye(),l=Object(o.useState)(""),u=Object(m.a)(l,2),s=u[0],d=u[1],p=a?"Waiting for other players to finish their turn.":"";return c.a.createElement(x,{width:800},c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(K.a,null,t)),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement("img",{src:n,alt:t,className:i.image})),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(g.a,{variant:"outlined",label:"Guess",value:s,onChange:function(e){return d(e.target.value)},disabled:a})),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},c.a.createElement(h.a,{item:!0},c.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){r(s)},disabled:a},c.a.createElement(O,{symbol:"\ud83c\udfa8"}),c.a.createElement("span",null,"Done"))),c.a.createElement(h.a,{item:!0},c.a.createElement(K.a,null,p)))))},qe=Object(u.b)((function(e){var t=e.game.player,n=e.game.gameState,a=function(e,t){var n=t.round.phase,a=t.round.order.indexOf(e),r=Object.keys(t.players).length,o=(a+n.index)%r,c=t.round.order[o],i=t.round.stacks[c].entries[n.index-1],l=i.data;return{author:i.author,entry:l}}(t,n),r=a.author,o=a.entry,c=n.players[r].name,i="Guess what ".concat(c," drew");return{submitted:e.game.submittedEntry||function(e,t){var n=t.round.phase,a=t.round.order.indexOf(e),r=Object.keys(t.players).length,o=(a+n.index)%r,c=t.round.order[o],i=t.round.stacks[c].entries[n.index];return i&&i.author===e}(t,n),message:i,image:o.drawing}}),(function(e){return{onSubmit:function(t){return e(function(e){return function(){var t=Object(N.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_.submitEntry()),t.next=3,z.promise;case 3:t.sent.emit("submitEntry",{entry:{type:"concept",concept:e}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))($e),Ke=function(e){return"draw"===e.type?c.a.createElement(_e,null):c.a.createElement(qe,null)},Qe=Object(u.b)((function(e){var t;return{type:(null===(t=e.game.gameState)||void 0===t?void 0:t.round.phase).index%2===0?"draw":"guess"}}))(Ke),Xe=Object(C.a)((function(e){return{paper:{padding:e.spacing(3),maxWidth:500},choicesContainer:{padding:e.spacing(3),maxWidth:500},img:{width:"100%"}}})),Ze=n(1565),et=n(1564),tt=n(1562),nt=n(1563),at=n(1578),rt=n(258),ot=n.n(rt),ct=Object(C.a)((function(e){return{avatar:{backgroundColor:"rgba(0, 0, 0, 0)",width:e.spacing(8),height:e.spacing(8),marginRight:e.spacing(2)}}})),it=function(e){var t=e.name,n=e.avatar,a=e.entry,r=e.onClick,o=ct(),i=[c.a.createElement(tt.a,{avatar:c.a.createElement(at.a,{variant:"rounded",alt:t,className:o.avatar},c.a.createElement(ot.a,{avatarStyle:"Circle",topType:n.topType,accessoriesType:n.accessoriesType,hairColor:n.hairColor,facialHairType:n.facialHairType,clotheType:n.clotheType,clotheColor:n.clotheColor,eyeType:n.eyeType,eyebrowType:n.eyebrowType,mouthType:n.mouthType,skinColor:n.skinColor})),title:t}),a],l=r?c.a.createElement(nt.a,null,i):i;return c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(et.a,{onClick:r},l))},lt=function(e){var t=e.name,n=e.avatar,a=e.image,r=e.onClick;return c.a.createElement(it,{name:t,avatar:n,entry:c.a.createElement(Ze.a,{component:"img",image:a,width:"500",title:"Entry by ".concat(t)}),onClick:r})},ut=Object(u.b)((function(e,t){var n=e.game.gameState.players[t.playerId];return{name:n.name,avatar:n.avatar}}))(lt),st=n(1566),mt=function(e){var t=e.name,n=e.avatar,a=e.concept,r=e.onClick;return c.a.createElement(it,{name:t,avatar:n,entry:c.a.createElement(st.a,null,c.a.createElement(K.a,{variant:"h4"},a)),onClick:r})},dt=Object(u.b)((function(e,t){var n=e.game.gameState.players[t.playerId];return{name:n.name,avatar:n.avatar}}))(mt),pt=function(e){var t=e.entries,n=e.concept,a=e.stackPlayerName,r=e.currentPlayerChooses,o=e.chosenPlayerName,i=void 0===o?"":o,l=e.acknowledged,u=e.onChooseEntry,s=e.onAcknowledge,m=Xe(),d=t[0].data,p=t.slice(1);return c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(h.a,{container:!0,direction:"column",spacing:4},c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(v.a,{elevation:1,variant:"outlined",className:m.paper},c.a.createElement(h.a,{container:!0,direction:"column",spacing:2},c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(K.a,null,r?i?"You chose the entry by ".concat(i,' for "').concat(n,'"!'):'Choose your favorite entry for "'.concat(n,'"'):i?"".concat(a," chose the entry by ").concat(i,' for "').concat(n,'"!'):"".concat(a,' is choosing their favorite entry for "').concat(n,'"'))),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement("img",{className:m.img,src:d.drawing,alt:"Initial drawing by ".concat(a)})),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(E.a,{variant:"contained",color:"primary",disabled:!i||l,onClick:s},c.a.createElement(O,{symbol:"\ud83d\udc4f"}),c.a.createElement("span",null,"Next")))))),p.map((function(e){var t="drawing"===e.data.type?c.a.createElement(ut,{playerId:e.author,image:e.data.drawing,onClick:r?function(){return u(e.author)}:void 0}):c.a.createElement(dt,{playerId:e.author,concept:e.data.concept,onClick:r?function(){return u(e.author)}:void 0});return c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(v.a,{elevation:1,variant:"outlined",className:m.paper},t))}))))},ft=Object(u.b)((function(e){var t=e.game.gameState,n=t.round.phase,a=t.round.order[n.index],r=t.players[a].name,o=t.round.concepts[a],c=t.round.stacks[a],i=e.game.player,l=i===a,u=c.chosen||e.game.chosenEntry;return{stackPlayerName:r,concept:o,currentPlayerChooses:l,chosenPlayerName:u?t.players[u].name:void 0,entries:c.entries,acknowledged:e.game.acknowledgedWinner||!!n.acknowledgeBy.includes(i)}}),(function(e){return{onChooseEntry:function(t){return e(function(e){return function(){var t=Object(N.a)(W.a.mark((function t(n){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_.chooseEntry(e)),t.next=3,z.promise;case 3:t.sent.emit("chooseEntry",{targetPlayer:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onAcknowledge:function(){return e(function(){var e=Object(N.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_.acknowledgeWinner()),e.next=3,z.promise;case 3:e.sent.emit("acknowledgeWinner",{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(pt),ht=function(e){return Object(o.useEffect)(e,[])},gt=function(e){var t=e.connected,n=e.phaseName,a=e.connect;if(ht((function(){a()})),!t)return c.a.createElement(K.a,null,"Connecting");switch(n){case"initial":return c.a.createElement(ee,null);case"conceptChoice":return c.a.createElement(ie,null);case"createEntry":return c.a.createElement(Qe,null);case"entryChoice":return c.a.createElement(ft,null);default:return c.a.createElement(K.a,null,"Unknown phase")}},Et=Object(u.b)((function(e){return e.game.gameState?{connected:!0,phaseName:e.game.gameState.round.phase.name}:{connected:!1,phaseName:""}}),(function(e){return{connect:function(){return e(function(){var e=Object(N.a)(W.a.mark((function e(t,n){var a,r,o,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=a.game.config,o=r.name,c=r.code,e.next=3,z.promise;case 3:e.sent.emit("joinGame",{name:o,code:c});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}}}))(gt),yt=Object(p.g)((function(e){var t=e.joinGame,n=e.history,a=Object(o.useState)(""),r=Object(m.a)(a,2),i=r[0],l=r[1],u=Object(p.f)().code,s=i.length>0;return c.a.createElement(x,null,c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(g.a,{variant:"outlined",label:"Name",value:i,onChange:function(e){return l(e.target.value)},fullWidth:!0})),c.a.createElement(h.a,{item:!0,xs:12},c.a.createElement(E.a,{variant:"contained",color:"primary",disabled:!s,onClick:function(){return t({name:i,code:u,goToGame:function(e){return n.push("/game/".concat(e))}})}},c.a.createElement(O,{symbol:"\ud83d\ude4c"}),c.a.createElement("span",null,"Go!"))))})),bt=Object(u.b)(null,(function(e){return{joinGame:function(t){e($(t))}}}))(yt),vt=n(1567),Ct=n(631),kt=n.n(Ct),wt=n(630),xt=Object(C.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},drawerButton:Object(wt.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"})}})),Ot=function(e){var t=e.onToggleDrawer,n=xt();return c.a.createElement(vt.a,{position:"fixed",className:n.appBar},c.a.createElement(f.a,null,c.a.createElement(be.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,className:n.drawerButton},c.a.createElement(kt.a,null)),c.a.createElement(K.a,{variant:"h6",color:"inherit",noWrap:!0},"doodle.io")))},jt=n(1573),Tt=n(1572),St=Object(C.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"}}})),Gt=n(1569),Wt=Object(C.a)((function(e){return{avatar:{backgroundColor:"rgba(0, 0, 0, 0)",width:e.spacing(8),height:e.spacing(8),marginRight:e.spacing(2)}}})),Nt={Ready:"\u2705",Thinking:"\ud83e\udd14",Guessing:"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f",Drawing:"\u270f\ufe0f"},Rt=function(e){var t=e.name,n=e.avatar,a=e.points,r=e.state,o=Wt();return c.a.createElement(ne.a,{divider:!0},c.a.createElement(re.a,null,c.a.createElement(at.a,{variant:"rounded",alt:t,className:o.avatar},c.a.createElement(ot.a,{avatarStyle:"Circle",topType:n.topType,accessoriesType:n.accessoriesType,hairColor:n.hairColor,facialHairType:n.facialHairType,clotheType:n.clotheType,clotheColor:n.clotheColor,eyeType:n.eyeType,eyebrowType:n.eyebrowType,mouthType:n.mouthType,skinColor:n.skinColor}))),c.a.createElement(ae.a,{primary:t,secondary:"".concat(a," ").concat(X("point","points",a))}),r&&c.a.createElement(Gt.a,null,c.a.createElement(O,{symbol:Nt[r]})))},Ut=Object(u.b)((function(e,t){return a.player(e,t.id)}))(Rt),Pt=function(e){var t=e.playerIds;return c.a.createElement(te.a,null,t.map((function(e){return c.a.createElement(Ut,{key:e,id:e})})))},It=Object(u.b)((function(e){return{playerIds:a.playerIds(e)}}))(Pt),Dt=function(e){var t=e.drawerOpen,n=e.onToggleDrawer,a=St(),r=c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,null),c.a.createElement("div",{className:a.drawerContainer},c.a.createElement(It,null)));return c.a.createElement(c.a.Fragment,null,c.a.createElement(Tt.a,{smUp:!0,implementation:"css"},c.a.createElement(jt.a,{variant:"temporary",className:a.drawer,classes:{paper:a.drawerPaper},open:t,onClose:n,ModalProps:{keepMounted:!0}},r)),c.a.createElement(Tt.a,{xsDown:!0,implementation:"css"},c.a.createElement(jt.a,{variant:"permanent",className:a.drawer,classes:{paper:a.drawerPaper},open:!0},r)))},At=Object(C.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)}}})),Lt=function(e){var t=e.playerName,n=e.connect;ht((function(){n()}));var a=Object(o.useState)(!1),r=Object(m.a)(a,2),i=r[0],l=r[1],u=function(){return l(!i)},s=At();return c.a.createElement("div",{className:s.root},c.a.createElement(Ot,{onToggleDrawer:u}),c.a.createElement(Dt,{drawerOpen:i,onToggleDrawer:u}),c.a.createElement("div",{className:s.content},c.a.createElement(f.a,null),c.a.createElement(h.a,{container:!0,justify:"center"},c.a.createElement(d.a,null,c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/"},c.a.createElement(q,null)),c.a.createElement(p.a,{exact:!0,path:"/game/:code"},t?c.a.createElement(Et,null):c.a.createElement(bt,null)))))))},Bt=Object(u.b)((function(e){return{playerName:e.game.config.name}}),(function(e){return{connect:function(){var t;e((t=function(t){!function(e,t){t.on("connectedToGame",(function(t){console.log("connectedToGame:",t),e(_.setGamePlayer(t))})),t.on("gameUpdated",(function(t){console.log("gameUpdated:",t),e(_.updateGame(t))}))}(e,t)},function(){var e=Object(N.a)(W.a.mark((function e(n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(B.connectToSocketStarted()),r=I()("ec2-3-250-18-16.eu-west-1.compute.amazonaws.com:3000"),z.resolve(r),["connect","reconnect"].forEach((function(e){r.on(e,(function(){n(B.connectToSocketSuccess()),t(r)}))})),["connect_error","connect_timeout","error","disconnected"].forEach((function(e){r.on(e,(function(){n(B.connectToSocketFailed())}))})),r.on("reconnecting",(function(){n(B.connectToSocketStarted())}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}}))(Lt),Ft=n(88),zt=Object(Ft.c)({socket:F,game:Y}),Ht=Object(R.a)({reducer:zt,devTools:!1});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(u.a,{store:Ht},c.a.createElement(s.a,null),c.a.createElement(c.a.StrictMode,null,c.a.createElement(Bt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},444:function(e,t){},650:function(e,t,n){e.exports=n(1505)},688:function(e,t){},898:function(e,t){},899:function(e,t){},981:function(e,t){},983:function(e,t){}},[[650,1,2]]]);
//# sourceMappingURL=main.ba183189.chunk.js.map